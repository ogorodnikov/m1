{% extends 'base.html' %}

{% block title %}
  {{ algorithm.name }}
{% endblock %}

{% block content %}

  <div class="container-fluid">
     
    <div class="row">
      <div class="col-sm-12 mt-4 mb-3">
        <h5>{{ algorithm.name }}:</h5>
        {{ algorithm }}
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-5 mb-3">
        {{ algorithm.description }}
      </div>
    </div>

    <div class="row">        
      <div class="col-sm-5 mb-3">
        <img class="img-thumbnail" src="https://indulgeyourpet.com/wp-content/uploads/Bombay.png" alt="image">
      </div>
    </div>
    
    
    
    <!-- Parameters -->
    

    
    <form action={{ url_for('run_algorithm', algorithm_id=algorithm.id) }} method="POST">
          
      <div class="row">        
        <div class="col-sm-5 mb-3">
          
          <label for="parameters" class="form-label mb-3">Parameters:</label>
          
          {% for parameter in algorithm.parameters %}
          
            <div class="input-group mb-1">
              
              <span class="input-group-text bg-secondary text-white col-sm-3" id="parameter">{{ parameter.name }}</span>
              
              <input class="form-control text-light bg-dark"
                     name={{ parameter.name }}
                     type="tel"
                     pattern="[a-z0-9\.]{1,10}"
                     value="{{ parameter.default_value }}"
                     aria-label="Parameter"
                     aria-describedby="parameters"
                     title="Integers 1 to 10 digit length">
                  <!--required-->
                  <!--placeholder="please input value"-->
            </div>
          
          {% endfor %}
          
        </div>
      </div>
          
      <div class="row">
        <div class="col-sm-5 mb-3">
          
          {% if algorithm.type == 'quantum' %}
          
            <button type="submit" 
                    class="btn btn-warning col-sm-3 mb-1" 
                    name="run_mode"
                    {% if not algorithm.enabled %} disabled {% endif %}
                    value="simulator">
               Run on Simulator
            </button>
            
            <button type="submit" 
                    class="btn btn-danger col-sm-4 mb-1"
                    name="run_mode"
                    {% if not algorithm.enabled %} disabled {% endif %}
                    value="quantum_device">
               Run on Quantum Device
            </button>
          
          {% else %}
          
            <button type="submit"
                    class="btn btn-warning col-sm-3 mb-1"
                    name="run_mode"
                    {% if algorithm.enabled == 'false' %} disabled {% endif %}
                    value="classical">
               Run
            </button>            
          
          {% endif %}
          
          <button type="submit" form="like_form" class="btn btn-info col-sm-3 mb-1 text-nowrap">
            Like
            <span class="badge bg-light text-dark rounded-pill align-text-bottom">
              {{ algorithm.likes }}
            </span>
          </button>
          
        </div>
      </div>
      
    </form>

    <form id="like_form" action={{ url_for('like_algorithm', algorithm_id=algorithm.id) }} method="GET">
    </form>
    
  </div>

{% endblock %}


